<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="The dream of the old programmer.">
<meta property="og:type" content="website">
<meta property="og:title" content="FlyingPuPu world">
<meta property="og:url" content="http://macan999server.com/index.html">
<meta property="og:site_name" content="FlyingPuPu world">
<meta property="og:description" content="The dream of the old programmer.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FlyingPuPu world">
<meta name="twitter:description" content="The dream of the old programmer.">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'åšä¸»'
    }
  };
</script>

  <title> FlyingPuPu world </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">FlyingPuPu world</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">ä¸€åˆ‡ç†è®ºåœ¨æ²¡æœ‰Coding å’Œ å®é™…éªŒè¯çš„æƒ…å†µä¸‹éƒ½æ˜¯å‡é¬¼å­!</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/27/Compress-in-iOS/" itemprop="url">
                  Compress in iOS
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-04-27T17:06:37+08:00" content="2017-04-27">
              2017-04-27
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><p>æ— è®ºçš„è§†é¢‘è¿˜æ˜¯å›¾åƒï¼Œå‹ç¼©éƒ½åŒ…æ‹¬å‹ç¼©åˆ†è¾¨ç‡å’Œè´¨é‡ï¼Œè§†é¢‘è¿˜åŒ…æ‹¬éŸ³é¢‘çš„é‡‡æ ·ã€‚</p>
<h3 id="iOS-è§†é¢‘å‹ç¼©æŠ¥å‘Š"><a href="#iOS-è§†é¢‘å‹ç¼©æŠ¥å‘Š" class="headerlink" title="iOS è§†é¢‘å‹ç¼©æŠ¥å‘Š"></a>iOS è§†é¢‘å‹ç¼©æŠ¥å‘Š</h3><p>iOS è‡ªå¸¦è§†é¢‘å‹ç¼©æ¥å£ AVAssetExportSessionï¼Œæˆ‘ä»¬å…ˆçœ‹ç³»ç»Ÿçš„è¿™äº›å‹ç¼©çš„è¾“å‡ºæ•°æ®(å…ˆå¿½ç•¥é»„å­—)ï¼Œé€‰ç”¨ä¸»æµ720På’Œ1080Pè§†é¢‘å½•åˆ¶æ ¼å¼</p>
<p><img src="http://oedbfiet1.bkt.clouddn.com/20170427149328422477119.png" alt=""></p>
<p>å¯è§åœ¨æˆ‘ä»¬é€‰æ‹©ç³»ç»Ÿçš„960<em>540çš„é»˜è®¤è¾“å‡ºåˆ†è¾¨ç‡å’Œç›¸åŒçš„éŸ³é¢‘AACé‡‡æ ·ç‡çš„æƒ…å†µï¼ŒåŒä¼Ÿå¤§çš„é¹…ğŸ§å‚è¿˜æ˜¯æœ‰å·®åˆ«çš„<br>4.6MB å¯¹ 1.1MB<br>æ—¢ç„¶åŸºæœ¬çš„å‹ç¼©æ¯”ä¾‹è¿˜æ˜¯ä¸å¤Ÿé«˜ï¼Œé‚£å°±è¦ä»è¾“å…¥å’Œè¾“å‡ºç€æ‰‹ï¼Œå¯¹éŸ³é¢‘å’Œè§†é¢‘åšé‡é‡‡æ ·ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€äº›ç›´æ’­é‡Œé¢å¸¸ç”¨åˆ°çš„ï¼Œé€šè¿‡<br>AVAssetReader å’Œ AVAssetWrite åŒæ­¥è¿›è¡Œtranscode .<br>ç›®å‰çš„ä¼˜åŒ–æ¯”ä¾‹å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ1.6~1.7M å¯¹åº”540</em>960 åœ¨ä¸€ä¸ªè¿˜å¯ä»¥çš„è§†é¢‘è´¨é‡çš„èŒƒå›´ã€‚</p>
<h3 id="iOS-å›¾ç‰‡å‹ç¼©æŠ¥å‘Š"><a href="#iOS-å›¾ç‰‡å‹ç¼©æŠ¥å‘Š" class="headerlink" title="iOS å›¾ç‰‡å‹ç¼©æŠ¥å‘Š"></a>iOS å›¾ç‰‡å‹ç¼©æŠ¥å‘Š</h3><p>JPGæ ¼å¼æ¯ä¸ªå¹³å°éƒ½æœ‰è‡ªå·±çš„å›¾ç‰‡å‹ç¼©æ–¹å¼ï¼Œå…ˆçœ‹ç³»ç»Ÿçš„å‹ç¼©<br><img src="http://oedbfiet1.bkt.clouddn.com/2017042714932842546254.png" alt=""><br>ä½†æ˜¯è¿™ä¸ªåªèƒ½ä½œä¸ºå‚è€ƒï¼Œå› ä¸ºJPG çš„å‹ç¼©ç®—æ³•æœ¬èº«è¿˜ä¾èµ–ä¸å›¾ç‰‡å†…éƒ¨çš„å…ƒç´ ï¼Œå‹ç¼©çš„åŸåˆ™å…³æ³¨ä¸¤ç‚¹:</p>
<ol>
<li>è´¨é‡ä¸èƒ½å¤ªå·®ï¼Œä¸€èˆ¬ç»´æŒåœ¨0.7å·¦å³çš„å‹ç¼©è´¨é‡ã€‚</li>
<li>è¿‡å¤§çš„åˆ†è¾¨ç‡å¯¹äºæ‰‹æœºæ¥è¯´ï¼Œä¸€èˆ¬æ²¡æœ‰å¤ªå¤šçš„å±•ç¤ºç©ºé—´ï¼Œæ‰€ä»¥å‚è€ƒçš„æ‰‹æœºçš„å¯ç”¨æœ€å¤§åˆ†è¾¨ç‡æ¥ä½œä¸ºå‹ç¼©åˆ†è¾¨ç‡çš„ä¸€ç§ç­–ç•¥ï¼Œ<br>ä¾‹å¦‚é¹…å‚çš„960*1280.</li>
</ol>
<h3 id="ç›®å‰ç»“è®º"><a href="#ç›®å‰ç»“è®º" class="headerlink" title="ç›®å‰ç»“è®º"></a>ç›®å‰ç»“è®º</h3><ul>
<li>è§†é¢‘å‹ç¼©ï¼Œå¯ä»¥å‚è€ƒç›®å‰çš„å‹ç¼©æ¯”ç‡ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªå¯ä»¥æ¥æ”¶çš„èŒƒå›´ã€‚</li>
<li>å›¾ç‰‡å‹ç¼©ç»´æŒ0.7çš„è´¨é‡åŠ ä¸Šä»¥æ‰‹æœºçš„æœ€å¤§åˆ†è¾¨ç‡è¿™ä¸¤ç‚¹åšä¸ºå‹ç¼©çš„æ ‡å‡†ã€‚</li>
</ul>
<h3 id="å‚è€ƒèµ„æº"><a href="#å‚è€ƒèµ„æº" class="headerlink" title="å‚è€ƒèµ„æº"></a>å‚è€ƒèµ„æº</h3><p>GitHub: VideoToolboxPlus, SDAVAssetExportSession<br>Apple:   RosyWriter</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/16/Closure-Swift/" itemprop="url">
                  Closure-Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-03-16T21:24:41+08:00" content="2017-03-16">
              2017-03-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="åŸºæœ¬å‡½æ•°"><a href="#åŸºæœ¬å‡½æ•°" class="headerlink" title="åŸºæœ¬å‡½æ•°"></a>åŸºæœ¬å‡½æ•°</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//1. å‚æ•°åŒ…å« InnerName , ExternalName , å¯ä»¥åªå†™ä¸€ä¸ªå‚æ•°ï¼Œ</span></div><div class="line"><span class="comment">//å¯ä»¥ç»™äºˆé»˜è®¤å€¼ï¼Œ ä½†å¿…é¡»ä»å³åˆ°å·¦</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">name</span><span class="params">(externalName innerName: String)</span></span> &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">name1</span><span class="params">(innerName: String)</span></span> &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">name2</span><span class="params">(first: String, Second: String = <span class="string">""</span>)</span></span> &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">name2(first: <span class="string">"hello"</span>)</div></pre></td></tr></table></figure>
<h3 id="å‡½æ•°ç­¾åæ˜¯ä¸åŒ…å«å‚æ•°å"><a href="#å‡½æ•°ç­¾åæ˜¯ä¸åŒ…å«å‚æ•°å" class="headerlink" title="å‡½æ•°ç­¾åæ˜¯ä¸åŒ…å«å‚æ•°å"></a>å‡½æ•°ç­¾åæ˜¯ä¸åŒ…å«å‚æ•°å</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">methodSign</span><span class="params">(first: String, Second: String)</span></span> &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">methodSign1</span><span class="params">(first: String, Second: String)</span></span> &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">checkSign</span><span class="params">(funcSign: <span class="params">(String, String)</span></span></span> -&gt; ()) &#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">checkSign(funcSign: methodSign)</div><div class="line">checkSign(funcSign: methodSign1)</div></pre></td></tr></table></figure>
<h3 id="å‡½æ•°å¼ä½œä¸ºä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥å½“åšå˜é‡ï¼Œè¿”å›å€¼ï¼Œå‚æ•°ï¼Œè¿™æå‡äº†åˆ°å‡½æ•°ç¼–ç¨‹çš„æ€æƒ³"><a href="#å‡½æ•°å¼ä½œä¸ºä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥å½“åšå˜é‡ï¼Œè¿”å›å€¼ï¼Œå‚æ•°ï¼Œè¿™æå‡äº†åˆ°å‡½æ•°ç¼–ç¨‹çš„æ€æƒ³" class="headerlink" title="å‡½æ•°å¼ä½œä¸ºä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥å½“åšå˜é‡ï¼Œè¿”å›å€¼ï¼Œå‚æ•°ï¼Œè¿™æå‡äº†åˆ°å‡½æ•°ç¼–ç¨‹çš„æ€æƒ³"></a>å‡½æ•°å¼ä½œä¸ºä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥å½“åšå˜é‡ï¼Œè¿”å›å€¼ï¼Œå‚æ•°ï¼Œè¿™æå‡äº†åˆ°å‡½æ•°ç¼–ç¨‹çš„æ€æƒ³</h3><h4 id="Closureçš„ç®€åŒ–ç‰ˆæœ¬-Closure-å¯ä»¥çœ‹åšæ˜¯åŒ…å«ä¸Šä¸‹æ–‡çš„å‡½æ•°"><a href="#Closureçš„ç®€åŒ–ç‰ˆæœ¬-Closure-å¯ä»¥çœ‹åšæ˜¯åŒ…å«ä¸Šä¸‹æ–‡çš„å‡½æ•°" class="headerlink" title="Closureçš„ç®€åŒ–ç‰ˆæœ¬, Closure å¯ä»¥çœ‹åšæ˜¯åŒ…å«ä¸Šä¸‹æ–‡çš„å‡½æ•°"></a>Closureçš„ç®€åŒ–ç‰ˆæœ¬, Closure å¯ä»¥çœ‹åšæ˜¯åŒ…å«ä¸Šä¸‹æ–‡çš„å‡½æ•°</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ ‡å‡†ç‰ˆæœ¬</span></div><div class="line">    <span class="keyword">let</span> closureExpression = &#123; (first: <span class="type">Int</span>, second: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></div><div class="line">        <span class="keyword">return</span> first + second</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//a. å¯ä»¥è‡ªå·±æ¨å¯¼</span></div><div class="line">    <span class="keyword">let</span> <span class="number">_</span> = &#123; (first: <span class="type">Int</span>, second: <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">        <span class="keyword">return</span> first + second</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//b. å¦‚æœåªæœ‰ä¸€æ¡è¯­å¥ï¼Œå¯ä»¥å»æ‰return</span></div><div class="line">    <span class="keyword">let</span> <span class="number">_</span> = &#123; (first: <span class="type">Int</span>, second: <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">        first + second</div><div class="line">    &#125;</div><div class="line">    <span class="comment">//c. å¯ä»¥å»æ‰å‚æ•°</span></div><div class="line">    <span class="keyword">var</span> array = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">4</span>]</div><div class="line">    array.<span class="built_in">map</span>(&#123; <span class="type">String</span>($<span class="number">0</span>) &#125;)</div><div class="line"></div><div class="line">    <span class="comment">//d.å¦‚æœæ˜¯æœ€åä¸€ä¸ªï¼Œå¯ä»¥æŠŠClosureæ”¾åˆ°åé¢</span></div><div class="line">    array.<span class="built_in">map</span>() &#123;</div><div class="line">        <span class="type">String</span>($<span class="number">0</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//e.å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¿˜å¯ä»¥çœç•¥()</span></div><div class="line">    array.<span class="built_in">map</span> &#123;</div><div class="line">        <span class="type">String</span>($<span class="number">0</span>)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//f. autoClosure</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">autoClosureFunc</span><span class="params">(<span class="number">_</span> lhs: Int, <span class="number">_</span> rhs: Int, <span class="number">_</span> compare: @autoclosure <span class="params">(Int, Int)</span></span></span>-&gt;<span class="type">Bool</span>) -&gt; <span class="type">Bool</span> &#123;</div><div class="line">        <span class="keyword">return</span> compare(lhs, rhs)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">let</span> ret = autoClosureFunc(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span> &gt; <span class="number">2</span>)</div></pre></td></tr></table></figure>
<h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä½¿ç”¨ Swift æ¥å®ç°ä¸€ä¸ªå½’å¹¶æ’åº</span></div><div class="line"><span class="comment">//å½’å¹¶æ’åºä¼šä¸æ–­çš„æŠŠæ— åºæ•°ç»„äºŒåˆ†ï¼Œç›´åˆ°åªæœ‰ä¸€ä¸ªï¼Œå˜æˆæœ‰åºï¼Œç„¶åå€ŸåŠ©ä¸€ä¸ªåˆå¹¶å‡½æ•°æ¥åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Array</span> <span class="title">where</span> <span class="title">Element</span>: <span class="title">Comparable</span> </span>&#123;</div><div class="line">    <span class="comment">//è¿™é‡Œè®°ä½endIndex æ˜¯è¶…è¿‡countçš„ä½ç½®ï¼Œä»£è¡¨ä¸å¯è¾¾çš„ä½ç½®</span></div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">mergeSort</span><span class="params">(<span class="number">_</span> begin: Index, <span class="number">_</span> end: Index)</span></span> &#123;</div><div class="line">        <span class="keyword">guard</span> end - begin &gt; <span class="number">1</span> <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> tmp: [<span class="type">Element</span>] = []</div><div class="line">        tmp.reserveCapacity(<span class="built_in">count</span>)</div><div class="line"></div><div class="line">        <span class="comment">//åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„æ–¹æ³•</span></div><div class="line">        <span class="function"><span class="keyword">func</span> <span class="title">merge</span><span class="params">(<span class="number">_</span> start: Index, <span class="number">_</span> mid: Index, <span class="number">_</span> end: Index)</span></span> &#123;</div><div class="line">            <span class="keyword">var</span> x = begin</div><div class="line">            <span class="keyword">var</span> y = mid</div><div class="line"></div><div class="line">            <span class="keyword">while</span> x != mid, y != end &#123;</div><div class="line">                <span class="keyword">if</span> (<span class="keyword">self</span>[x] &lt; <span class="keyword">self</span>[y]) &#123;</div><div class="line">                    tmp.append(<span class="keyword">self</span>[x])</div><div class="line">                    x += <span class="number">1</span></div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    tmp.append(<span class="keyword">self</span>[y])</div><div class="line">                    y += <span class="number">1</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//ä¸€å®šå­˜åœ¨ä¸€ä¸ªæ•°ç»„è¢«å–ç©ºï¼Œæ‰€ä»¥éœ€è¦æŠŠå‰©ä½™çš„åˆå¹¶è¿›å»</span></div><div class="line">            tmp.append(contentsOf: <span class="keyword">self</span>[x..&lt;mid])</div><div class="line">            tmp.append(contentsOf: <span class="keyword">self</span>[y..&lt;end])</div><div class="line"></div><div class="line">            replaceSubrange(begin..&lt;end, with: tmp)</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">let</span> middle = (begin + end) / <span class="number">2</span></div><div class="line">        mergeSort(begin, middle)</div><div class="line">        mergeSort(middle, end)</div><div class="line">        merge(begin, middle, end)</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æ¯”è¾ƒ"><a href="#æ¯”è¾ƒ" class="headerlink" title="æ¯”è¾ƒ"></a>æ¯”è¾ƒ</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//åŸºäºè¿è¡Œæ—¶çš„NSSortDescriptor æ¯”è¾ƒéœ€è¦æä¾›çš„æ˜¯keyPath ä¸ Selectorï¼Œå¦‚æœå‡ºç°ä¸åŒ¹é…çš„æƒ…å†µ</span></div><div class="line"><span class="comment">//å¾ˆå®¹æ˜“å‡ºç°è¿è¡Œæ—¶å¼‚å¸¸</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SortedStruct</span>: <span class="title">Comparable</span> </span>&#123;</div><div class="line">    <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">    <span class="keyword">var</span> type: <span class="type">Int</span></div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> &lt;(lhs: SortedStruct, rhs: SortedStruct) -&gt; <span class="title">Bool</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> lhs.name &lt; rhs.name</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> ==<span class="params">(lhs: SortedStruct, rhs: SortedStruct)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">        <span class="keyword">return</span> lhs.name == rhs.name</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> structArray: [<span class="type">SortedStruct</span>] = [</div><div class="line">            <span class="type">SortedStruct</span>(name: <span class="string">"Fpp"</span>, type: <span class="number">11</span>),</div><div class="line">            <span class="type">SortedStruct</span>(name: <span class="string">"cc"</span>, type: <span class="number">2</span>)</div><div class="line">    ]</div><div class="line"></div><div class="line">    structArray.<span class="built_in">sort</span>(by: &gt;)</div></pre></td></tr></table></figure>
<h3 id="é‡è½½æ“ä½œç¬¦"><a href="#é‡è½½æ“ä½œç¬¦" class="headerlink" title="é‡è½½æ“ä½œç¬¦"></a>é‡è½½æ“ä½œç¬¦</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//é‡è½½æ“ä½œç¬¦å· infix å±…ä¸­ï¼Œ prefix å‰ç½®ï¼Œpostfix åç½®</span></div><div class="line"><span class="comment">//LogicalConjunctionPrecedence é€»è¾‘ä¼˜å…ˆçº§</span></div><div class="line"><span class="keyword">infix</span> <span class="keyword">operator</span> |&gt;:<span class="type">LogicalConjunctionPrecedence</span></div><div class="line"><span class="function"><span class="keyword">func</span> |&gt;&lt;T: Comparable&gt;<span class="params">(lhs: T, rhs: T)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> lhs &gt; rhs</div><div class="line">&#125;</div><div class="line"><span class="built_in">print</span>(<span class="number">1</span>|&gt;<span class="number">2</span>)</div></pre></td></tr></table></figure>
<h3 id="è®¾ç½®åªèƒ½è¢«Classå®ç°çš„åè®®"><a href="#è®¾ç½®åªèƒ½è¢«Classå®ç°çš„åè®®" class="headerlink" title="è®¾ç½®åªèƒ½è¢«Classå®ç°çš„åè®®"></a>è®¾ç½®åªèƒ½è¢«Classå®ç°çš„åè®®</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">onlyClassProtocol</span>: <span class="title">class</span> </span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="escapting"><a href="#escapting" class="headerlink" title="@escapting"></a>@escapting</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//@escapting ä¼šè¶…å‡ºå½“å‰å‡½æ•°çš„ä½œç”¨åŸŸï¼Œæœ€åä¸€ä¸ªreturnåä¾ç„¶ä¼šè¢«æ‰§è¡Œ</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">escaptingClosure</span><span class="params">(first: Int, escapting: @escapting <span class="params">(Int)</span></span></span>-&gt;<span class="type">Void</span>) &#123;</div><div class="line">    escapting(first)</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/15/ControlFlow-Swift/" itemprop="url">
                  ControlFlow-Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-03-15T15:29:55+08:00" content="2017-03-15">
              2017-03-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="åŸºæœ¬æ§åˆ¶"><a href="#åŸºæœ¬æ§åˆ¶" class="headerlink" title="åŸºæœ¬æ§åˆ¶"></a>åŸºæœ¬æ§åˆ¶</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</div><div class="line"><span class="keyword">repeat</span> &#123;</div><div class="line">    x += <span class="number">1</span></div><div class="line">    <span class="built_in">print</span>(x)</div><div class="line">    <span class="keyword">if</span> x &gt; <span class="number">3</span> &#123;</div><div class="line">        <span class="keyword">continue</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> x &gt; <span class="number">4</span> &#123;</div><div class="line">        <span class="keyword">break</span></div><div class="line">    &#125;</div><div class="line">&#125; <span class="keyword">while</span> x &lt; <span class="number">5</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> p1 = (<span class="number">12</span>, <span class="number">13</span>)</div><div class="line"><span class="keyword">if</span> <span class="keyword">case</span> (<span class="number">12</span>, <span class="number">13</span>) = p1 &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"equal"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//value binding</span></div><div class="line"><span class="keyword">let</span> p2 = <span class="string">"hello"</span></div><div class="line"><span class="keyword">switch</span> p1 &#123;</div><div class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>):</div><div class="line">    <span class="built_in">print</span>(<span class="string">"====="</span>)</div><div class="line"></div><div class="line"><span class="keyword">case</span> <span class="keyword">is</span> <span class="type">String</span>:</div><div class="line">    <span class="built_in">print</span>(<span class="string">"is String"</span>)</div><div class="line"></div><div class="line"><span class="keyword">default</span>:</div><div class="line">    <span class="keyword">break</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">defer</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Must do something"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> skills = [<span class="string">"JS"</span>, <span class="literal">nil</span>, <span class="string">"C"</span>, <span class="literal">nil</span>]</div><div class="line"><span class="keyword">for</span> <span class="keyword">case</span> <span class="keyword">let</span> skill? <span class="keyword">in</span> skills &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Get <span class="subst">\(skill)</span> "</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> percentage = <span class="number">0.5</span></div><div class="line"><span class="comment">//Range åŒ¹é…</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">case</span> <span class="number">0</span>...<span class="number">1</span> = percentage &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"In range"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> name = <span class="string">"FPP"</span></div><div class="line"><span class="keyword">let</span> age = <span class="number">34</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">case</span> (<span class="string">"FPP"</span>, <span class="number">34</span>) = (name, age) &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"Match user"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="è‡ªå®šä¹‰çº¦ç­‰"><a href="#è‡ªå®šä¹‰çº¦ç­‰" class="headerlink" title="è‡ªå®šä¹‰çº¦ç­‰"></a>è‡ªå®šä¹‰çº¦ç­‰</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ ·å¼åŒ¹é…èƒŒåçš„å‡†åˆ™</span></div><div class="line"><span class="comment">//Range ~= T ç”±ç³»ç»Ÿå®ç°äº†ï¼Œ å¯¹åº”åˆ°äº† if case 0...1 = percentage</span></div><div class="line"><span class="comment">//æ‰“å° ~  =  å°±æ˜¯çº¦ç­‰</span></div><div class="line"><span class="function"><span class="keyword">func</span> ~=&lt;T&gt;<span class="params">(value: T, pattern: ClosedRange&lt;T&gt;)</span></span> -&gt; <span class="type">Bool</span> &#123;</div><div class="line">    <span class="keyword">return</span> pattern.<span class="built_in">contains</span>(value)</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span> <span class="keyword">case</span> <span class="number">0.5</span> = <span class="number">0.0</span>...<span class="number">1.0</span> &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"è‡ªå®šä¹‰çº¦ç­‰"</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/15/Optional-Swift/" itemprop="url">
                  Optional-Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-03-15T15:28:50+08:00" content="2017-03-15">
              2017-03-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="guard-çš„å¥½å¤„"><a href="#guard-çš„å¥½å¤„" class="headerlink" title="guard çš„å¥½å¤„"></a>guard çš„å¥½å¤„</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Optional æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæšä¸¾ï¼Œ.none(nil) , .some(T)</span></div><div class="line"><span class="comment">//æœ‰å€¼ä¼šè‡ªåŠ¨å‡çº§ä¸º.some , nil ä¼šè‡ªåŠ¨å‡çº§ä¸º .none</span></div><div class="line"><span class="comment">//æ³¨æ„guard çš„ç”¨æ³•ï¼Œå¦‚æœè¦åœ¨å¤šå¤„ç”¨åŒä¸€ä¸ª unwarping</span></div><div class="line"><span class="keyword">let</span> a: <span class="type">Int</span>? = <span class="number">1</span></div><div class="line"><span class="keyword">guard</span> <span class="keyword">let</span> nextA = a <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">return</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//ä»¥åéƒ½å¯ä»¥ç”¨nextA, ä¸ç”¨ä¸€ç›´unwraping</span></div></pre></td></tr></table></figure>
<h3 id="é—­åŒ…è¡Œä¸º"><a href="#é—­åŒ…è¡Œä¸º" class="headerlink" title="é—­åŒ…è¡Œä¸º"></a>é—­åŒ…è¡Œä¸º</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å¯¹æ¯”ä¸€ä¸‹å’ŒJSçš„é—­åŒ…è¡Œä¸º, swift é—­åŒ…æ•è·çš„æ˜¯å€¼ï¼Œè€Œ JS æ•è·çš„æ˜¯å¯¹è±¡</span></div><div class="line"><span class="keyword">var</span> array: [<span class="type">Closure</span>] = []</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>...<span class="number">5</span> &#123;</div><div class="line">   array.append(&#123; <span class="built_in">print</span>(i)&#125;)</div><div class="line">&#125;</div><div class="line">array[<span class="number">0</span>]()</div><div class="line">array[<span class="number">1</span>]()</div><div class="line">array[<span class="number">2</span>]()</div><div class="line">array[<span class="number">3</span>]()</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> funcArray = []</div><div class="line"></div><div class="line"><span class="comment">// for (let i in [0, 1, 2])&#123; </span></div><div class="line"><span class="comment">//å¦‚æœå˜æˆlet åˆ™æ˜¯0ï¼Œ1ï¼Œ 2ï¼Œvar åˆ™æ˜¯2ï¼Œ2ï¼Œ2</span></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>])&#123;</div><div class="line">    funcArray[i] = <span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(i);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">funcArray[<span class="number">0</span>]();</div><div class="line">funcArray[<span class="number">1</span>]();</div><div class="line">funcArray[<span class="number">2</span>]();</div></pre></td></tr></table></figure>
<h3 id="Never-å…³é”®å­—"><a href="#Never-å…³é”®å­—" class="headerlink" title="Never å…³é”®å­—"></a>Never å…³é”®å­—</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Never æ„å‘³ç€æ°¸è¿œä¸ä¼šæ­£ç¡®è¿”å›</span></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">returnNever</span><span class="params">(<span class="number">_</span> input: Int)</span></span> -&gt; <span class="type">Never</span> &#123;</div><div class="line">    <span class="keyword">guard</span> input &gt; <span class="number">0</span> <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">fatalError</span>()</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">fatalError</span>()</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/14/Collection-Swift/" itemprop="url">
                  Collection-Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-03-14T16:44:47+08:00" content="2017-03-14">
              2017-03-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ArraySlice-çš„å†…å­˜ç»“æ„"><a href="#ArraySlice-çš„å†…å­˜ç»“æ„" class="headerlink" title="ArraySlice çš„å†…å­˜ç»“æ„"></a>ArraySlice çš„å†…å­˜ç»“æ„</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ArraySlice çš„å†…å­˜ç»“æ„ å®é™…åªæ˜¯åŒ…å«äº†ä¸€ä¸ªptr å’Œ ä¸€ä¸ªæŒ‡å‘å¼€å§‹å’Œç»“æŸä½ç½®çš„ç´¢å¼•</span></div><div class="line"><span class="comment">//å› æ­¤ ArraySlice çš„æ‰§è¡Œæ•ˆç‡ä¼šæ›´é«˜</span></div><div class="line"><span class="comment">// +---------+---+</span></div><div class="line"><span class="comment">// | length  | 5 |</span></div><div class="line"><span class="comment">// +---------+---+</span></div><div class="line"><span class="comment">// | storage ptr |</span></div><div class="line"><span class="comment">// +---------+---+</span></div><div class="line"><span class="comment">//           |</span></div><div class="line"><span class="comment">//           v</span></div><div class="line"><span class="comment">//           +---+---+---+---+---+---------------------+</span></div><div class="line"><span class="comment">//           | 1 | 2 | 3 | 4 | 5 |  reserved capacity  |</span></div><div class="line"><span class="comment">//           +---+---+---+---+---+---------------------+</span></div><div class="line"><span class="comment">//           ^</span></div><div class="line"><span class="comment">//           |</span></div><div class="line"><span class="comment">// +---------+---+</span></div><div class="line"><span class="comment">// | storage ptr |</span></div><div class="line"><span class="comment">// +---------+---+</span></div><div class="line"><span class="comment">// | beg idx | 0 |</span></div><div class="line"><span class="comment">// +---------+---+</span></div><div class="line"><span class="comment">// | end idx | 3 |  ArraySlice for [0...2]</span></div><div class="line"><span class="comment">// +---------+---+</span></div></pre></td></tr></table></figure>
<h3 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h3><h4 id="Set-æ“ä½œå›¾"><a href="#Set-æ“ä½œå›¾" class="headerlink" title="Set æ“ä½œå›¾"></a>Set æ“ä½œå›¾</h4><p><img src="http://oedbfiet1.bkt.clouddn.com/20170314148946120345189.png" alt="é›†åˆå›¾"><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Set</span></div><div class="line">    <span class="keyword">var</span> setA: <span class="type">Set</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</div><div class="line">    <span class="keyword">var</span> setB: <span class="type">Set</span> = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</div><div class="line"></div><div class="line"><span class="comment">//base</span></div><div class="line">    setA.isEmpty</div><div class="line">    setA.<span class="built_in">contains</span>(<span class="number">3</span>)</div><div class="line">    setA.remove(at: setA.startIndex)</div><div class="line">    setA.insert(<span class="number">8</span>)</div><div class="line">    <span class="built_in">print</span>(setA)</div><div class="line"><span class="comment">//    setA.removeAll()</span></div><div class="line">    <span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span> setA &#123;</div><div class="line">        <span class="built_in">print</span>(<span class="built_in">c</span>)</div><div class="line">    &#125;</div><div class="line">    setA.forEach &#123;</div><div class="line">        <span class="built_in">print</span>($<span class="number">0</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">print</span>(setA.sorted())</div><div class="line"></div><div class="line"><span class="comment">//è¿”å›æ–°å¯¹è±¡ç‰ˆæœ¬</span></div><div class="line">    <span class="keyword">let</span> unionSet = setA.union(setB)</div><div class="line">    <span class="keyword">let</span> subtractionSet = setA.subtracting(setB)</div><div class="line">    <span class="keyword">let</span> symmetricSet = setA.symmetricDifference(setB)</div><div class="line">    <span class="keyword">let</span> intersectionSet = setA.intersection(setB)</div><div class="line"></div><div class="line">    <span class="built_in">print</span>(<span class="string">"<span class="subst">\(unionSet)</span>-<span class="subst">\(subtractionSet)</span>-<span class="subst">\(symmetricSet)</span>-<span class="subst">\(intersectionSet)</span>"</span>)</div><div class="line"></div><div class="line"><span class="comment">//Mutating ç‰ˆæœ¬, éƒ½åŠ ä¸Šform</span></div><div class="line">    setA.formUnion(setB)</div><div class="line">    <span class="built_in">print</span>(<span class="string">"<span class="subst">\(setA)</span>"</span>)</div><div class="line">    setA.formIntersection(setB)</div><div class="line">    <span class="built_in">print</span>(<span class="string">"<span class="subst">\(setA)</span>"</span>)</div><div class="line">    setA.formSymmetricDifference(setB)</div><div class="line">    <span class="built_in">print</span>(<span class="string">"<span class="subst">\(setA)</span>"</span>)</div><div class="line"></div><div class="line">    <span class="comment">//IndexSet CharacterSet</span></div><div class="line">    <span class="keyword">let</span> <span class="built_in">c</span>: <span class="type">Set</span>&lt;<span class="type">Int</span>&gt; = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>]</div><div class="line">    <span class="built_in">print</span>(<span class="built_in">c</span>)</div><div class="line">    <span class="keyword">let</span> charSet = <span class="type">Set</span>&lt;<span class="type">Character</span>&gt;(arrayLiteral: <span class="string">"1"</span>, <span class="string">"2"</span>)</div><div class="line">    <span class="built_in">print</span>(charSet)</div><div class="line"></div><div class="line">    <span class="comment">//Dictionary</span></div><div class="line">    <span class="comment">//1. ä¸€èˆ¬ä¸è¦ç”¨class ä½œä¸º keyï¼Œå› ä¸º Class å¯èƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œå¦‚æœ Class æ”¹å˜åä»–çš„ Hash ä¹Ÿè¦è·Ÿç€å˜ï¼Œ</span></div><div class="line">    <span class="comment">//è¿™æ ·å°±æ— æ³•æ ¹æ®Hashè¡¨æ¥æ‰¾åˆ°æ­£ç¡®çš„å…ƒç´ äº†ã€‚</span></div><div class="line">    <span class="keyword">let</span> dic: [<span class="type">String</span>: <span class="type">Any</span>] = [<span class="string">"key1"</span>: <span class="number">1</span>, <span class="string">"key"</span>: <span class="number">2</span>]</div><div class="line">    <span class="comment">//dic çš„map é»˜è®¤è¡Œä¸ºæ˜¯è¿”å›ä¸€ä¸ª map</span></div><div class="line">    <span class="built_in">print</span>(dic.<span class="built_in">map</span> &#123;</div><div class="line">        $<span class="number">1</span></div><div class="line">    &#125;)</div><div class="line"></div><div class="line">    <span class="comment">//å‡½æ•°å¯¹åºåˆ—çš„å½±å“</span></div><div class="line">    <span class="keyword">var</span> currentMap = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line">    <span class="built_in">print</span>(currentMap.<span class="built_in">map</span> &#123;</div><div class="line">        $<span class="number">0</span> * $<span class="number">0</span></div><div class="line">    &#125;)</div><div class="line">    <span class="built_in">print</span>(currentMap.<span class="built_in">max</span>())</div><div class="line">    <span class="built_in">print</span>(currentMap.<span class="built_in">min</span>())</div><div class="line">    <span class="comment">//æ³¨æ„åˆ†åŒºæ˜¯åœ¨å½“å‰çš„ç»“æ„ä¸Šæ“ä½œï¼Œ</span></div><div class="line">    <span class="keyword">do</span> &#123;</div><div class="line">        <span class="keyword">let</span> pivot = <span class="keyword">try</span> currentMap.<span class="built_in">partition</span>(by: &#123;</div><div class="line">            $<span class="number">0</span> &gt; <span class="number">2</span></div><div class="line">        &#125;)</div><div class="line">        <span class="built_in">print</span>(pivot)</div><div class="line">    &#125;<span class="keyword">catch</span> &#123;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<h3 id="è®¾è®¡ä¸€ä¸ªå»é‡çš„Arrayå‡½æ•°"><a href="#è®¾è®¡ä¸€ä¸ªå»é‡çš„Arrayå‡½æ•°" class="headerlink" title="è®¾è®¡ä¸€ä¸ªå»é‡çš„Arrayå‡½æ•°"></a>è®¾è®¡ä¸€ä¸ªå»é‡çš„Arrayå‡½æ•°</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//è®©åºåˆ—æ”¯æŒå»é‡</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Sequence</span> <span class="title">where</span> <span class="title">Iterator</span>.<span class="title">Element</span>: <span class="title">Hashable</span> </span>&#123;</div><div class="line">    <span class="comment">//å®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨æ¥åšå»é‡</span></div><div class="line">    <span class="comment">//O(n) æ—¶é—´å¤æ‚åº¦</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">flite</span><span class="params">()</span></span> -&gt; [<span class="type">Iterator</span>.<span class="type">Element</span>] &#123;</div><div class="line">        <span class="keyword">var</span> tempSet: <span class="type">Set</span>&lt;<span class="type">Iterator</span>.<span class="type">Element</span>&gt; = <span class="type">Set</span>&lt;<span class="type">Iterator</span>.<span class="type">Element</span>&gt;()</div><div class="line">        <span class="comment">//ç”¨åˆ°äº†åºåˆ—è‡ªèº«çš„ filter æ–¹æ³•ï¼Œç”¨ä¸€ä¸ªä¸´æ—¶çš„ set æ¥åˆ¤æ–­æ˜¯å¦å·²ç»è¢«åŒ…å«</span></div><div class="line">        <span class="keyword">return</span> <span class="built_in">filter</span> &#123;</div><div class="line">            <span class="keyword">if</span> tempSet.<span class="built_in">contains</span>($<span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                tempSet.insert($<span class="number">0</span>)</div><div class="line">                <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="æ£€æŸ¥CopyOnWrite"><a href="#æ£€æŸ¥CopyOnWrite" class="headerlink" title="æ£€æŸ¥CopyOnWrite"></a>æ£€æŸ¥CopyOnWrite</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">let</span> pointArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line">  <span class="comment">//è·å–åœ°å€ï¼Œæ¥æ£€æŸ¥copyOnWrite</span></div><div class="line">  <span class="function"><span class="keyword">func</span> <span class="title">getBufferAddress</span>&lt;T&gt;<span class="params">(of array: [T])</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">      <span class="keyword">return</span> array.withUnsafeBufferPointer &#123; buffer <span class="keyword">in</span></div><div class="line">          <span class="keyword">return</span> <span class="type">String</span>(describing: buffer.baseAddress)</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">let</span> first = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div><div class="line">  <span class="keyword">var</span> second = first</div><div class="line">  <span class="built_in">print</span>(getBufferAddress(of: first))</div><div class="line">  <span class="built_in">print</span>(getBufferAddress(of: second))</div><div class="line">  second.append(<span class="number">5</span>)</div><div class="line">  <span class="built_in">print</span>(getBufferAddress(of: second))</div><div class="line"><span class="comment">//OutPut</span></div><div class="line">  <span class="type">Optional</span>(<span class="number">0x00007fbce9403370</span>)</div><div class="line">  <span class="type">Optional</span>(<span class="number">0x00007fbce9403370</span>)</div><div class="line">  <span class="type">Optional</span>(<span class="number">0x00007fbce9405dd0</span>)</div></pre></td></tr></table></figure>
<h3 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">    <span class="comment">//é«˜é˜¶å‡½æ•°</span></div><div class="line">    <span class="comment">//filter, map , reduce, flatmap</span></div><div class="line">    <span class="comment">//Filter</span></div><div class="line">    <span class="keyword">let</span> myArray: [<span class="type">Int</span>] = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>]</div><div class="line">    myArray.<span class="built_in">filter</span> &#123;</div><div class="line">        $<span class="number">0</span> % <span class="number">2</span> != <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">let</span> filterArray = myArray.myFilter &#123;</div><div class="line">        $<span class="number">0</span> % <span class="number">2</span> != <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">    <span class="built_in">print</span>(filterArray)</div><div class="line"></div><div class="line">    <span class="comment">//Reduce</span></div><div class="line">    <span class="keyword">let</span> myArray1: [<span class="type">String</span>] = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>, <span class="string">"d"</span>, <span class="string">"e"</span>]</div><div class="line">    <span class="keyword">var</span> reduceStr = myArray1.<span class="built_in">reduce</span>(<span class="string">""</span>, +)</div><div class="line">    <span class="comment">//æ³¨æ„+ä¹Ÿæ»¡è¶³ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œè¾“å…¥ä¸€ä¸ªç›¸åŒç±»å‹çš„å€¼</span></div><div class="line">    reduceStr = myArray1.myReduce(result: <span class="string">""</span>, +)</div><div class="line">    <span class="built_in">print</span>(reduceStr)</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">//FlatMap</span></div><div class="line">    <span class="comment">//FlatMap æ¥æ”¶ä¸€ä¸ªæˆå‘˜ï¼Œè¿”å›ä¸€ä¸ªç±»å‹, ç„¶ååœ¨æŠŠç»“æœç»„åˆæˆä¸€ä¸ªæ•°ç»„</span></div><div class="line">    <span class="keyword">let</span> dic1: [<span class="type">String</span>: <span class="type">Int</span>] = [<span class="string">"a"</span>: <span class="number">1</span>, <span class="string">"b"</span>: <span class="number">2</span>, <span class="string">"c"</span>: <span class="number">3</span>]</div><div class="line">    <span class="keyword">let</span> str = dic1.flatMap &#123; element -&gt; <span class="type">String</span>? <span class="keyword">in</span></div><div class="line">        <span class="keyword">var</span> v: <span class="type">String</span> = <span class="type">String</span>(element.value)</div><div class="line">        <span class="keyword">return</span> v</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">let</span> <span class="built_in">map</span> = dic1.flatMap &#123; animal <span class="keyword">in</span></div><div class="line">        <span class="keyword">return</span> dic.<span class="built_in">map</span> &#123; id <span class="keyword">in</span></div><div class="line">            (animal, id)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">let</span> flatMap = dic1.myFlatMap &#123; element -&gt; (<span class="type">String</span>, <span class="type">Int</span>) <span class="keyword">in</span></div><div class="line">        <span class="keyword">return</span> (element.<span class="number">0</span>, element.<span class="number">1</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">print</span>(flatMap)</div><div class="line"></div><div class="line"><span class="comment">//å®ç°åŸºæœ¬çš„é«˜é˜¶å‡½æ•°Filter</span></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Array</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">myFilter</span><span class="params">(<span class="number">_</span> trans: <span class="params">(Element)</span></span></span> -&gt; <span class="type">Bool</span>) -&gt; [<span class="type">Element</span>] &#123;</div><div class="line">        <span class="keyword">var</span> filterArray: [<span class="type">Element</span>] = []</div><div class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> <span class="keyword">self</span> <span class="keyword">where</span> trans(element) &#123;</div><div class="line">            filterArray.append(element)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> filterArray</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">myReduce</span>&lt;T&gt;<span class="params">(result: T, <span class="number">_</span> trans: <span class="params">(T, Element)</span></span></span> -&gt; <span class="type">T</span>) -&gt; <span class="type">T</span> &#123;</div><div class="line">        <span class="keyword">var</span> <span class="built_in">reduce</span> = result</div><div class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> <span class="keyword">self</span> &#123;</div><div class="line">            <span class="built_in">reduce</span> = trans(<span class="built_in">reduce</span>, element)  <span class="comment">//å¦‚æœä¼ å…¥ + ï¼Œåˆ™è¿™é‡Œç›¸å½“äº reduce + element</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">reduce</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dictionary</span> </span>&#123;</div><div class="line">    <span class="comment">//Element ä»£è¡¨è¿­ä»£çš„æˆå‘˜ç±»å‹ï¼Œå¤§å†™çš„Keyï¼Œ Value ä»£è¡¨keyå’Œvalue çš„ç±»å‹</span></div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">myFlatMap</span>&lt;T&gt;<span class="params">(transform: <span class="params">(Element)</span></span></span> -&gt; <span class="type">T</span>) -&gt; [<span class="type">T</span>] &#123;</div><div class="line">        <span class="keyword">var</span> tmp: [<span class="type">T</span>] = []</div><div class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> <span class="keyword">self</span> &#123;</div><div class="line">            <span class="keyword">let</span> ret = transform(v)</div><div class="line">            tmp.append(ret)</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> tmp</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/Load-Initialize/" itemprop="url">
                  Load()+Initialize()
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-03-11T22:11:22+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Prepare"><a href="#Prepare" class="headerlink" title="Prepare"></a>Prepare</h3><ul>
<li>Load æ–¹æ³•å½“ç±»è¢«åŠ è½½åˆ° runtime çš„æ—¶å€™å°±ä¼šè¿è¡Œï¼Œè€Œä¸”æœ‰ä¾æ®å¦‚ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š<br>A: æ ¹æ®Compile Sources ä¸­çš„é¡ºåºæ¥åŠ è½½ã€‚<br>B: Category  ä¼šåœ¨ä¸€èˆ¬ç±»ä¹‹åã€‚<br>C: æœ‰ç»§æ‰¿å…³ç³»çš„ä¼šå…ˆåŠ è½½çˆ¶ç±»ã€‚</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">//Father </div><div class="line">@implementation Father </div><div class="line">+ (void)load &#123;</div><div class="line">    NSLog(@"=== father load");</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (void)initialize &#123;</div><div class="line">    NSLog(@"=== father initialize");</div><div class="line">&#125;</div><div class="line">@end</div><div class="line"></div><div class="line">//Son</div><div class="line">@interface Son : Father</div><div class="line">@end</div><div class="line">@implementation Son </div><div class="line">+ (void)load &#123;</div><div class="line">    NSLog(@"=== Son load");</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (void)initialize &#123;</div><div class="line">    NSLog(@"=== Son initialize");</div><div class="line">&#125;</div><div class="line">@end</div><div class="line">//Father Category</div><div class="line">@implementation Father (category)</div><div class="line">+ (void)load &#123;</div><div class="line">    NSLog(@"=== father category load");</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (void)initialize &#123;</div><div class="line">    NSLog(@"=== father category initialize");</div><div class="line">&#125;</div><div class="line">@end</div><div class="line">//Son category</div><div class="line">@implementation Son (category)</div><div class="line">+ (void)load &#123;</div><div class="line">    NSLog(@"=== Son category load");</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (void)initialize &#123;</div><div class="line">    NSLog(@"=== Son category initialize");</div><div class="line">&#125;</div><div class="line">@end</div><div class="line"></div><div class="line">//Compile Source Order</div><div class="line">Son.m</div><div class="line">Father.m</div><div class="line">Son+category.m</div><div class="line">Father+category.m</div><div class="line"></div><div class="line">//OutPut</div><div class="line"> === father load</div><div class="line"> === Son load</div><div class="line"> === Son category load</div><div class="line"> === father category load</div></pre></td></tr></table></figure>
<ul>
<li>Initialize å‘ç”Ÿåœ¨ç±»ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ—¶, éµå¾ªä»¥ä¸‹è§„å¾‹(å½“ç„¶å¦‚æœloadæ–¹æ³•é‡Œé¢è°ƒç”¨ä¾‹å¦‚ [self Class] è¿™æ ·çš„æ–¹æ³•ï¼Œä¼šå…ˆè°ƒç”¨ initializeã€‚<br>A: æœ‰ç»§æ‰¿å…³ç³»çš„å¦‚æœå­ç±»æ²¡æœ‰å®ç°Initialize ï¼Œä¼šè°ƒç”¨çˆ¶ç±»çš„ï¼Œä¹Ÿå°±æ˜¯è¯´çˆ¶ç±»çš„Initialize å¯èƒ½ä¼šè¢«è°ƒç”¨2æ¬¡ã€‚</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//Father</span></div><div class="line">@implementation Father </div><div class="line">+ (<span class="keyword">void</span>)initialize &#123;</div><div class="line">    NSLog(@<span class="string">"=== father initialize"</span>);</div><div class="line">&#125;</div><div class="line">@end</div><div class="line"><span class="comment">//Son</span></div><div class="line">@interface Son : Father</div><div class="line">@end</div><div class="line">@implementation Son </div><div class="line"><span class="comment">//+ (void)initialize &#123;</span></div><div class="line"><span class="comment">//    NSLog(@"=== Son initialize");</span></div><div class="line"><span class="comment">//&#125;</span></div><div class="line">@end</div><div class="line"><span class="comment">//AppDelegate.m</span></div><div class="line">[Son <span class="keyword">new</span>]</div><div class="line">[Father <span class="keyword">new</span>]</div><div class="line"></div><div class="line"><span class="comment">//OutPut</span></div><div class="line">=== father initialize</div><div class="line">=== father initialize</div><div class="line"></div><div class="line"><span class="comment">//Resolver</span></div><div class="line">+ (<span class="keyword">void</span>)initialize &#123;</div><div class="line">    <span class="keyword">if</span> (self == [Father <span class="keyword">class</span>])&#123;</div><div class="line">        NSLog(@<span class="string">"=== father initialize"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>B: å¦‚æœ Category ä¹Ÿé‡å†™äº†Initialize, ä¼šoverrideï¼Œ ä¹Ÿå°±æ˜¯åŸæ¥ç±»é‡Œé¢çš„Initialize ä¸ä¼šè¢«è°ƒç”¨ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æœ€ä¸Šé¢æºç é‡Œé¢çš„è¾“å‡º</span></div><div class="line">=== father category initialize</div><div class="line">=== Son category initialize</div></pre></td></tr></table></figure>
<h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><ul>
<li>load() ä¼šå¢åŠ å¯åŠ¨æ—¶é—´ï¼Œä¸é€‚å®œåšè¿‡å¤šçš„äº‹æƒ…ï¼Œä¸€èˆ¬ç”¨äºç®€å•çš„è¿è¡Œæ—¶æ–¹æ³•äº¤æ¢ã€‚</li>
<li>Initialize() ä»…ä»…ç”¨æ¥éœ€è¦å»¶è¿ŸåŠ è½½ä¸€äº›å…¨å±€æˆ–è€…é™æ€å˜é‡ã€‚</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/tree/" itemprop="url">
                  Tree
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-03-11T16:04:37+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Alogrithms/" itemprop="url" rel="index">
                    <span itemprop="name">Alogrithms</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Prepare"><a href="#Prepare" class="headerlink" title="Prepare"></a>Prepare</h3><ul>
<li><p>ä¸ºä»€ä¹ˆåœ¨å¾ˆå¤šæ—¶å€™ä¼šå‡ºç°äºŒçº§æŒ‡é’ˆçš„æƒ…å†µï¼Ÿ</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å¦‚æœéœ€è¦åœ¨æŸä¸ªå‡½æ•°é‡Œé¢æ”¹å˜æŒ‡é’ˆçš„æŒ‡å‘ï¼Œä¸€ç§æ–¹å¼æ˜¯ä¼ é€’åŒé‡æŒ‡é’ˆï¼Œä¸€ç§æ–¹å¼æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</span></div></pre></td></tr></table></figure>
</li>
<li><p>å‰åºä¸­åºååºéå†<br>éå†çš„å‚ç…§ç‚¹åœ¨äºæ¯ä¸€é¢—å­æ ‘çš„rootï¼Œä¾‹å¦‚å‰åºéå†: root-&gt;å·¦-&gt;å³ï¼Œ<br>ä¸­åºéå†: å·¦-&gt;root-&gt;å³ï¼Œ ååºéå†: å·¦-&gt;å³-&gt;root</p>
</li>
</ul>
<h3 id="åŸºæœ¬å®ç°"><a href="#åŸºæœ¬å®ç°" class="headerlink" title="åŸºæœ¬å®ç°"></a>åŸºæœ¬å®ç°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"bst.h"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></div><div class="line"></div><div class="line"><span class="comment">//è¦åˆ›å»ºä¸€ä¸ªäºŒå‰æœç´¢æ ‘:</span></div><div class="line"><span class="comment">//å…ˆä»å­˜å‚¨æ¥è¯´ï¼Œå¯ä»¥ç”¨æ•°ç»„æ¥æ„å»ºï¼Œä½†æ˜¯ä¸€èˆ¬æ˜¯å»ºç«‹åœ¨å®Œå…¨äºŒå‰æ ‘çš„æƒ…å†µä¸‹ã€‚</span></div><div class="line"><span class="comment">//æ‰€ä»¥ç›¸å¯¹æ¥è¯´ç”¨é“¾è¡¨æ¥è®°å½•æ›´åˆç†ï¼Œå¯ä»¥è®°å½•ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯ã€‚</span></div><div class="line"><span class="comment">//ä½¿ç”¨é“¾è¡¨ä¸€èˆ¬ä¹Ÿæœ‰ä¸¤ç§è¡¨ç°å½¢æ€ï¼Œä¸€ç§åªæœ‰ä¸€ä¸ªå¤´èŠ‚ç‚¹æ¥è¡¨ç¤ºï¼Œå› ä¸ºæ ‘æ€»æ˜¯ä»æ ‘æ ¹å¼€å§‹</span></div><div class="line"><span class="comment">//è¿›è¡Œå­˜å‚¨ï¼Œå¦ä¸€ç§æ˜¯ç”¨ä¸€ç§å•ç‹¬çš„ç»“æ„æ¥è®°å½•æ ¹èŠ‚ç‚¹ï¼Œç„¶åæä¾›ç›¸åº”çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä¾‹å¦‚é€šè¿‡ä¸€ç»„æ•°æ®</span></div><div class="line"><span class="comment">//æ¥æ„å»ºBST, æˆ–è€…é€šè¿‡ä¸€ä¸ªä¸€ä¸ªçš„addæ–¹å¼æ¥æ·»åŠ æ–°èŠ‚ç‚¹ã€‚</span></div><div class="line"><span class="comment">//æ³¨æ„BSTä¸€èˆ¬æ²¡æœ‰ç›¸ç­‰çš„èŠ‚ç‚¹ã€‚</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> TreeNode &#123;</div><div class="line">    <span class="keyword">int</span> value;</div><div class="line">    <span class="keyword">struct</span> TreeNode *left;</div><div class="line">    <span class="keyword">struct</span> TreeNode *right;</div><div class="line">&#125; TreeNode;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(TreeNode **node, <span class="keyword">int</span> value)</span></span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">creatBST</span><span class="params">(TreeNode **tree, <span class="keyword">int</span> inputData[], <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">        insert(tree, inputData[i]);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//å› ä¸ºä¼šæ”¹å˜node çš„æŒ‡å‘ï¼Œæ‰€ä»¥éœ€è¦ä¼ é€’äºŒçº§æŒ‡é’ˆ</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(TreeNode **node, <span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">    TreeNode *insertNode = (TreeNode *) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TreeNode));</div><div class="line">    insertNode-&gt;value = value;</div><div class="line">    insertNode-&gt;left = <span class="literal">NULL</span>;</div><div class="line">    insertNode-&gt;right = <span class="literal">NULL</span>;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (*node == <span class="literal">NULL</span>) &#123;</div><div class="line">        *node = insertNode;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//å·¦å­æ ‘ä¸ºç©ºï¼Œå¹¶ä¸”å€¼å°äºå½“å‰node</span></div><div class="line">    <span class="keyword">if</span> ((*node)-&gt;left == <span class="literal">NULL</span> &amp;&amp; value &lt; (*node)-&gt;value) &#123;</div><div class="line">        (*node)-&gt;left = insertNode;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> ((*node)-&gt;right == <span class="literal">NULL</span> &amp;&amp; value &gt; (*node)-&gt;value) &#123;</div><div class="line">        (*node)-&gt;right = insertNode;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (value &lt; (*node)-&gt;value) &#123;</div><div class="line">        insert(&amp;(*node)-&gt;left, value);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (value &gt; (*node)-&gt;value) &#123;</div><div class="line">        insert(&amp;(*node)-&gt;right, value);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(TreeNode *node, <span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (node == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (value == node-&gt;value) &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"æŸ¥æ‰¾åˆ° %d"</span>, value);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value &gt; node-&gt;value) &#123;</div><div class="line">        search(node-&gt;right, value);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        search(node-&gt;left, value);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//å¯¹ä»»ä½•ä¸€é¢—å­æ ‘ ä¸­å·¦å³</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">preOrder</span><span class="params">(TreeNode *tree)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (tree == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d-&gt;"</span>, tree-&gt;value);</div><div class="line">    preOrder(tree-&gt;left);</div><div class="line">    preOrder(tree-&gt;right);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// å·¦ ä¸­ å³</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">middleOrder</span><span class="params">(TreeNode *tree)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (tree == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    preOrder(tree-&gt;left);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d-&gt;"</span>, tree-&gt;value);</div><div class="line">    preOrder(tree-&gt;right);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//å·¦å³ä¸­</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">backOrder</span><span class="params">(TreeNode *tree)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (tree == <span class="literal">NULL</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    preOrder(tree-&gt;left);</div><div class="line">    preOrder(tree-&gt;right);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d-&gt;"</span>, tree-&gt;value);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">testTree</span><span class="params">()</span> </span>&#123;</div><div class="line">    TreeNode *tree = <span class="literal">NULL</span>;</div><div class="line">    <span class="keyword">int</span> input[<span class="number">11</span>] = &#123;<span class="number">55</span>, <span class="number">43</span>, <span class="number">66</span>, <span class="number">88</span>, <span class="number">18</span>, <span class="number">80</span>, <span class="number">33</span>, <span class="number">21</span>, <span class="number">72</span>&#125;;</div><div class="line">    creatBST(&amp;tree, input, <span class="number">9</span>);</div><div class="line">    search(tree, <span class="number">4</span>);</div><div class="line">    search(tree, <span class="number">11</span>);</div><div class="line">    preOrder(tree);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    middleOrder(tree);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</div><div class="line">    backOrder(tree);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/11/SPM-for-Swift/" itemprop="url">
                  SPM for Swift
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-03-11T11:57:21+08:00" content="2017-03-11">
              2017-03-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Swift/" itemprop="url" rel="index">
                    <span itemprop="name">Swift</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><ul>
<li><p>swift package init â€“type library      åˆ›å»ºlibrary</p>
</li>
<li><p>swift build</p>
</li>
<li><p>swift test</p>
<p>â€‹</p>
<h3 id="SPM-çš„æ¶æ„"><a href="#SPM-çš„æ¶æ„" class="headerlink" title="SPM çš„æ¶æ„"></a>SPM çš„æ¶æ„</h3></li>
</ul>
<ol>
<li><p>Package.swift æ„å»ºä¾èµ–å…³ç³»</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> package = <span class="type">Package</span>(</div><div class="line">    name: <span class="string">"BST"</span>,</div><div class="line">    targets: [</div><div class="line">        <span class="type">Target</span>(name: <span class="string">"Main"</span>, dependencies: [<span class="string">"BST"</span>])</div><div class="line">    ]</div><div class="line">)</div></pre></td></tr></table></figure>
</li>
<li><p>Sources ç›®å½•ä¸‹é¢ç”¨ç›®å½•åŒ…å«å„ä¸ªmodule</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="type">Sources</span></div><div class="line">â”œâ”€â”€ <span class="type">BST</span></div><div class="line">â”‚Â Â  â””â”€â”€ <span class="type">BST</span>.swift</div><div class="line">â””â”€â”€ <span class="type">Main</span></div><div class="line">    â””â”€â”€ main.swift</div></pre></td></tr></table></figure>
</li>
<li><p>ç„¶åæ‰§è¡Œ swift build å‘½ä»¤ï¼Œæ ¹æ®ä¾èµ–å…³ç³»ï¼Œæ‰¾åˆ°mainå…¥å£ï¼Œå°±å¯ä»¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¹¶è°ƒç”¨ç›¸å…³ module äº†ã€‚</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/10/å†…æ’åº/" itemprop="url">
                  å†…æ’åº
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-03-10T22:22:36+08:00" content="2017-03-10">
              2017-03-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Alogrithms/" itemprop="url" rel="index">
                    <span itemprop="name">Alogrithms</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><ul>
<li>å†³å®šå†’æ³¡çš„æ–¹å‘ï¼Œæ¯æ¬¡å†’æ³¡ç›¸é‚»å…ƒç´ æ¯”è¾ƒï¼Œæ¯æ¬¡å›ºå®šä¸€ä¸ªæ³¡ã€‚</li>
<li>å¦‚æœä¸€è¶Ÿæœªäº§ç”Ÿä»»ä½•äº¤æ¢ï¼Œåˆ™æ•´ä¸ªåºåˆ—å·²æ’åºï¼Œæ— éœ€å†æ¯”è¾ƒã€‚</li>
<li>æ—¶é—´å¤æ‚åº¦ï¼šæ¯”è¾ƒçš„æ¬¡æ•°n-1 â€¦ 1 , æ€»å’Œ O(n^2) ,  ç©ºé—´å¤æ‚åº¦ O(1)<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> a[<span class="number">100</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (i != j) &#123;</div><div class="line">        <span class="keyword">int</span> t = a[i];</div><div class="line">        a[i] = a[j];</div><div class="line">        a[j] = t;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//å†’æ³¡æ’åº, ä»å°åˆ°å¤§</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++) &#123; <span class="comment">//æ¯æ¬¡è¦ç¡®å®šçš„å†’æ³¡å…ƒç´ </span></div><div class="line">        <span class="keyword">int</span> sorted = <span class="number">1</span>;   <span class="comment">//åšä¸€ä¸ªä¼˜åŒ–ï¼Œå¦‚æœä¸€è¶Ÿæ’åºä¸­éƒ½æ²¡æœ‰äº§ç”Ÿäº¤æ¢ï¼Œåˆ™ä¸éœ€è¦ä»¥åæ“ä½œ</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = n - <span class="number">1</span>; j &gt; i; j--) &#123; <span class="comment">//ä»åå¾€å‰å†’</span></div><div class="line">            <span class="keyword">if</span> (a[j] &lt; a[j - <span class="number">1</span>]) &#123;</div><div class="line">                swap(j, j<span class="number">-1</span>);</div><div class="line">                sorted = <span class="number">0</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (sorted == <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h3><ul>
<li>å¿«æ’æ ¸å¿ƒæ‰¾åŸºå‡†æ•°ï¼ŒæŠŠåŸºå‡†æ•°æ”¾åˆ°æŸä¸€ä¸ªä½ç½®ï¼Œå·¦è¾¹çš„éƒ½æ¯”å®ƒå°ï¼Œå³è¾¹çš„éƒ½æ¯”å®ƒå¤§ã€‚</li>
<li>å¦‚æœæˆ‘ä»¬ä»¥æœ€å·¦è¾¹çš„ä¸ºåŸºå‡†ï¼Œé‚£ä¹ˆéœ€è¦æ³¨æ„çš„æ˜¯ä¸ºä»€ä¹ˆä»å³è¾¹æ‰¾ï¼Œå› ä¸ºä»å·¦è¾¹æ‰¾ï¼Œä½ å¯èƒ½æ— æ³•æ‰¾åˆ°æ¯”å®ƒå°çš„å…ƒç´ ï¼Œè¿™æ ·ä½ å°±æ— æ³•æ‰§è¡ŒåŸºå‡†æ•°å’Œæ‰¾åˆ°çš„æ•°çš„äº¤æ¢ï¼Œå¦‚æœä»å³è¾¹æ‰¾ï¼Œè‡³å°‘å¯ä»¥æ‰¾åˆ°åˆšå¥½ç­‰äºåŸºå‡†æ•°çš„å…ƒç´ ï¼Œè¿™æ ·æ‰æ»¡è¶³åŸºå‡†æ•°å·¦è¾¹éƒ½å°äºï¼Œå³è¾¹éƒ½å¤§äºçš„æ€æƒ³ã€‚</li>
<li>æ—¶é—´å¤æ‚åº¦ï¼šå¦‚æœæ¯æ¬¡è¢«äºŒåˆ†ï¼Œæ€»å…±è¢«åˆ†æˆçš„æ˜¯logn è¶Ÿï¼Œ æ¯æ¬¡æ¯”è¾ƒçš„æ˜¯ n æ¬¡ï¼Œ æ—¶é—´å¤æ‚åº¦ O(nlogn), ç©ºé—´å¤æ‚åº¦ O(1) ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å¿«æ’</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSortByRange</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span></span>&#123;</div><div class="line">    <span class="comment">//è¾¹ç•Œæ£€æŸ¥</span></div><div class="line">    <span class="keyword">if</span> (left &gt;= right) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> l = left;</div><div class="line">    <span class="keyword">int</span> r = right;</div><div class="line"></div><div class="line">    <span class="keyword">int</span> pivotIndex = left;</div><div class="line">    <span class="keyword">int</span> pivot = a[left];</div><div class="line">    <span class="comment">//åŸºå‡†æ•°åœ¨å·¦è¾¹ï¼Œä¸ºä»€ä¹ˆæ˜¯ä»å³è¾¹æ‰¾ï¼Œè€Œä¸æ˜¯ä»å·¦è¾¹æ‰¾å‘¢ï¼Œå› ä¸ºå¦‚æœä»å·¦è¾¹æ‰¾ï¼Œä½ å¾ˆå¯èƒ½æ‰¾ä¸åˆ°ï¼Œè¿™æ ·å°±æ— æ³•æ‰§è¡Œ</span></div><div class="line">    <span class="comment">//åŸºå‡†æ•°å’Œç›¸é‡ç‚¹çš„äº¤æ¢äº†ï¼Œè€Œä»å·¦è¾¹æ‰¾ï¼Œè‡³å°‘å¯ä»¥ç›´æ¥æ‰¾åˆ°åŸºå‡†æ•°çš„è¿™ä¸ªä½ç½®</span></div><div class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</div><div class="line">        <span class="keyword">while</span> (left &lt; right &amp;&amp; a[right] &gt;= pivot) &#123; <span class="comment">//ä»å³è¾¹æ‰¾åˆ°æ¯”åŸºå‡†æ•°å°çš„é‚£ä¸ª</span></div><div class="line">            right--;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">while</span> (left &lt; right &amp;&amp; a[left] &lt;= pivot) &#123;</div><div class="line">            left++;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (left &lt; right) &#123;</div><div class="line">            swap(left, right);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (left &lt;= right) &#123; <span class="comment">//åœ¨ä¸å‡ºç°è¶Šç•Œçš„æƒ…å†µä¸‹ï¼Œæ‰§è¡ŒåŸºå‡†å’Œç›¸é‡ç‚¹çš„äº¤æ¢</span></div><div class="line">        swap(pivotIndex, left);</div><div class="line"></div><div class="line">        quickSortByRange(a, l, left - <span class="number">1</span>);</div><div class="line">        quickSortByRange(a, left + <span class="number">1</span>, r);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    quickSortByRange(a, <span class="number">0</span>, n - <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h3><ul>
<li>æ’å…¥æ’åºå…³é”®åœ¨äºæ’å…¥ï¼Œåˆ†å‰²ä¸ºæ’åºå’Œæœªæ’åºéƒ¨åˆ†ï¼Œä¸æ–­æŠŠå³è¾¹çš„å…ƒç´ æ’å…¥åˆ°å·¦è¾¹çš„åºåˆ—ä¸­ï¼Œæ³¨æ„æ˜¯ç›¸é‚»å…ƒç´ äº¤æ¢ã€‚</li>
<li>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2), ç©ºé—´å¤æ‚åº¦ O(1)<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">///å‡å®šæŒ‰é™åºæ’åˆ—, æ’å…¥æ’åº</span></div><div class="line"><span class="comment">///æ—¶é—´å¤æ‚åº¦ï¼šå¤–å¾ªç¯nï¼Œå†…å¾ªç¯1ï¼Œ2ï¼Œã€‚ã€‚ã€‚ã€‚nï¼Œ æ‰€ä»¥å¹³å‡å¤æ‚åº¦ä¸ºO(n^2)</span></div><div class="line"><span class="comment">///ç©ºé—´å¤æ‚åº¦: O(1)</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertOrder</span><span class="params">(<span class="keyword">int</span> <span class="built_in">array</span>[], <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">     <span class="comment">//æ¯æ¬¡é€‰å®šä¸€ä¸ªå…ƒç´ åŒå‰é¢çš„å·²æ’åºçš„å…ƒç´ åšå¯¹æ¯”ï¼Œæ‰¾åˆ°åº”è¯¥æ’å…¥çš„ä½ç½®</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</div><div class="line">        <span class="keyword">int</span> key = <span class="built_in">array</span>[i];</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> j = i - <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (key &gt; <span class="built_in">array</span>[j]) &#123;</div><div class="line">                swap(<span class="built_in">array</span>, j, j+<span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            j--;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><ul>
<li>é€‰æ‹©æ’åºæ¯æ¬¡ä»æœªæ’åºçš„é˜Ÿåˆ—ä¸­é€‰æ‹©å‡ºæœ€å¤§æˆ–è€…æœ€å°å…ƒç´ ï¼Œæ”¾åˆ°å·²æ’åºçš„é˜Ÿåˆ—æœ«å°¾ã€‚</li>
<li>æ—¶é—´å¤æ‚åº¦: O(n^2) , ç©ºé—´å¤æ‚åº¦: O(1)<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">///é€‰æ‹©æ’åº,é™åº,</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectOrder</span><span class="params">(<span class="keyword">int</span> <span class="built_in">array</span>[], <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">//é€‰æ‹©æ’åºï¼Œæ¯æ¬¡ä»æ— åºçš„è¢«é€‰çš„å…ƒç´ ä¸­æ‰¾æœ€å¤§æˆ–è€…æœ€å°çš„æ”¾åˆ°æœ‰åºçš„ç¯å¢ƒä¸­</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> selectIndex = i;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="built_in">array</span>[j] &gt; <span class="built_in">array</span>[i]) &#123;</div><div class="line">                selectIndex = j;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        swap(<span class="built_in">array</span>, i, selectIndex);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä½¿ç”¨ Swift æ¥å®ç°ä¸€ä¸ªå½’å¹¶æ’åº</span></div><div class="line"><span class="comment">//å½’å¹¶æ’åºä¼šä¸æ–­çš„æŠŠæ— åºæ•°ç»„äºŒåˆ†ï¼Œç›´åˆ°åªæœ‰ä¸€ä¸ªï¼Œå˜æˆæœ‰åºï¼Œç„¶åå€ŸåŠ©ä¸€ä¸ªåˆå¹¶å‡½æ•°æ¥åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„æ•°ç»„</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Array</span> <span class="title">where</span> <span class="title">Element</span>: <span class="title">Comparable</span> </span>&#123;</div><div class="line">    <span class="comment">//è¿™é‡Œè®°ä½endIndex æ˜¯è¶…è¿‡countçš„ä½ç½®ï¼Œä»£è¡¨ä¸å¯è¾¾çš„ä½ç½®</span></div><div class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">mergeSort</span><span class="params">(<span class="number">_</span> begin: Index, <span class="number">_</span> end: Index)</span></span> &#123;</div><div class="line">        <span class="keyword">guard</span> end - begin &gt; <span class="number">1</span> <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> tmp: [<span class="type">Element</span>] = []</div><div class="line">        tmp.reserveCapacity(<span class="built_in">count</span>)</div><div class="line"></div><div class="line">        <span class="comment">//åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„æ–¹æ³•</span></div><div class="line">        <span class="function"><span class="keyword">func</span> <span class="title">merge</span><span class="params">(<span class="number">_</span> start: Index, <span class="number">_</span> mid: Index, <span class="number">_</span> end: Index)</span></span> &#123;</div><div class="line">            <span class="keyword">var</span> x = begin</div><div class="line">            <span class="keyword">var</span> y = mid</div><div class="line"></div><div class="line">            <span class="keyword">while</span> x != mid, y != end &#123;</div><div class="line">                <span class="keyword">if</span> (<span class="keyword">self</span>[x] &lt; <span class="keyword">self</span>[y]) &#123;</div><div class="line">                    tmp.append(<span class="keyword">self</span>[x])</div><div class="line">                    x += <span class="number">1</span></div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    tmp.append(<span class="keyword">self</span>[y])</div><div class="line">                    y += <span class="number">1</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">//ä¸€å®šå­˜åœ¨ä¸€ä¸ªæ•°ç»„è¢«å–ç©ºï¼Œæ‰€ä»¥éœ€è¦æŠŠå‰©ä½™çš„åˆå¹¶è¿›å»</span></div><div class="line">            tmp.append(contentsOf: <span class="keyword">self</span>[x..&lt;mid])</div><div class="line">            tmp.append(contentsOf: <span class="keyword">self</span>[y..&lt;end])</div><div class="line"></div><div class="line">            replaceSubrange(begin..&lt;end, with: tmp)</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">let</span> middle = (begin + end) / <span class="number">2</span></div><div class="line">        mergeSort(begin, middle)</div><div class="line">        mergeSort(middle, end)</div><div class="line">        merge(begin, middle, end)</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><ul>
<li>å› ä¸ºå¿«æ’æ‹¥æœ‰æ¯”è¾ƒå¥½çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥å¿«æ’ç”¨çš„èŒƒå›´ç›¸å¯¹æ¥è¯´æ›´å¹¿ä¸€äº›ã€‚</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-categories " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/18/LeetCode-14-Longest-Common-Prefix/" itemprop="url">
                  LeetCode:14.Longest Common Prefix
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2017-02-18T10:35:56+08:00" content="2017-02-18">
              2017-02-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Alogrithms/" itemprop="url" rel="index">
                    <span itemprop="name">Alogrithms</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line">Write a function to find the longest common prefix string amongst an array of strings.</div><div class="line">æ€æƒ³ï¼šæ‹¿ç¬¬ä¸€ä¸ª str ä½œä¸ºæ ‡å‡†ï¼Œåé¢çš„å­—ç¬¦ä¸²ä¾æ¬¡åšæ¯”å¯¹ã€‚</div><div class="line">å¤æ‚åº¦ï¼šæ—¶é—´å¤æ‚åº¦ O(nm), ç©ºé—´å¤æ‚åº¦ O(m), m æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</div><div class="line">è¿™é¢˜çš„å…³é”®åœ¨äºï¼Œä¸æ–­ç¼©å‡æ¯”å¯¹çš„é•¿åº¦ï¼Œä¾‹å¦‚ä¸‹ä¸€ä¸ªæ¯”å¯¹çš„é•¿åº¦å°äºå½“å‰ï¼Œåˆ™æœ€å°é•¿åº¦å°±å˜æˆäº†ä¸‹ä¸€ä¸ªçš„é•¿åº¦ï¼Œ</div><div class="line">å¦‚æœåŒä¸‹ä¸€ä¸ªæ¯”å¯¹çš„è¿‡ç¨‹ä¸­å‡ºç°ä¸åŒ¹é…ï¼Œåˆ™æœ€å°é•¿åº¦åˆå˜æˆäº†ä¸åŒ¹é…é•¿åº¦ä½ç½®çš„ä¸Šä¸€ä½ã€‚</div><div class="line">*/</div><div class="line"></div><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">longestCommonPrefix</span><span class="params">(<span class="number">_</span> strs: [String])</span></span> -&gt; <span class="type">String</span> &#123;</div><div class="line">    <span class="keyword">guard</span> strs.<span class="built_in">count</span> &gt; <span class="number">0</span> <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">""</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> compareArray = [<span class="type">Character</span>](strs[<span class="number">0</span>].characters)</div><div class="line"></div><div class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> strs &#123;</div><div class="line">        <span class="keyword">let</span> currentArray = [<span class="type">Character</span>](s.characters)</div><div class="line"></div><div class="line">        <span class="comment">//å› ä¸ºå§‹ç»ˆå…±æœ‰é•¿åº¦æ˜¯æœ€å°é•¿åº¦ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½ç”¨æœ€å°é•¿åº¦å»ä½œä¸ºä¸‹ä¸€æ¬¡æ¯”è¾ƒçš„åŸºç¡€</span></div><div class="line">        <span class="keyword">if</span> compareArray.<span class="built_in">count</span> &gt; currentArray.<span class="built_in">count</span> &#123;</div><div class="line">            compareArray = <span class="type">Array</span>(compareArray[<span class="number">0</span> ..&lt; currentArray.<span class="built_in">count</span>])</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;compareArray.<span class="built_in">count</span> &#123;</div><div class="line">            <span class="keyword">if</span> currentArray[i] != compareArray[i] &#123;</div><div class="line">                compareArray = <span class="type">Array</span>(compareArray[<span class="number">0</span> ..&lt; i])</div><div class="line">                <span class="keyword">break</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span>  <span class="type">String</span>(compareArray)</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">print</span>(longestCommonPrefix([<span class="string">"abc"</span>, <span class="string">"ab"</span>, <span class="string">"ab"</span>, <span class="string">"abc"</span>]))</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://oedbfiet1.bkt.clouddn.com/20170414149215455511281.jpg"
               alt="å°ä¸‡å”å”" />
          <p class="site-author-name" itemprop="name">å°ä¸‡å”å”</p>
          <p class="site-description motion-element" itemprop="description">The dream of the old programmer.</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/wanliming11" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/FlyingPuPu2017" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/3879359650" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">å°ä¸‡å”å”</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="http://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
